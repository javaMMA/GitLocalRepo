<!DOCTYPE html>
<html lang="en"  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="/css/gm1.css"/>
    <script src="/js/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
    <title>登录中心</title>
</head>
<body>
    <h2>欢迎来到登陆中心</h2>
    <form id="form" method="post" action="/login">
        用户名：<input id="username" type="text" name="username"><br/>
        密码：<input id="password" type="password" name="password"><br/>
        <!--<input type="submit" value="登陆">-->
        <button id="btn2" type="button" class="btn2"><a href="javascript:submitLogin();" class="a">登 &nbsp; &nbsp;录</a></button>
    </form>

    <!--底部-->
    <input type="text" th:value="${ReturnUrl}" id="ReturnUrl" />

</body>
<script language="JavaScript">
    function submitLogin() {
        var username = $("#username").val();
        var password = $("#password").val();
        $.post("login",{username:username,password:password},function(token){
            if(token == "fail"){
                alert("用户名或者密码错误"+token);
            }else{
                // 验证token是否为空或者异常
                window.location.href=$("#ReturnUrl").val()+"?token="+token;
            }
        });
    }

</script>
</html>